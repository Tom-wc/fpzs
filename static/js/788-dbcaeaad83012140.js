"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[788],{10:(e,t,n)=>{n.d(t,{$v:()=>h,EO:()=>u,Lt:()=>a,Rx:()=>f,Zr:()=>v,ck:()=>p,r7:()=>m,tv:()=>c,wd:()=>g});var o=n(5155);n(2115);var s=n(4520),i=n(9434),r=n(285);function a(e){let{...t}=e;return(0,o.jsx)(s.bL,{"data-slot":"alert-dialog",...t})}function c(e){let{...t}=e;return(0,o.jsx)(s.l9,{"data-slot":"alert-dialog-trigger",...t})}function l(e){let{...t}=e;return(0,o.jsx)(s.ZL,{"data-slot":"alert-dialog-portal",...t})}function d(e){let{className:t,...n}=e;return(0,o.jsx)(s.hJ,{"data-slot":"alert-dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...n})}function u(e){let{className:t,...n}=e;return(0,o.jsxs)(l,{children:[(0,o.jsx)(d,{}),(0,o.jsx)(s.UC,{"data-slot":"alert-dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n})]})}function g(e){let{className:t,...n}=e;return(0,o.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",t),...n})}function p(e){let{className:t,...n}=e;return(0,o.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,i.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...n})}function m(e){let{className:t,...n}=e;return(0,o.jsx)(s.hE,{"data-slot":"alert-dialog-title",className:(0,i.cn)("text-lg font-semibold",t),...n})}function h(e){let{className:t,...n}=e;return(0,o.jsx)(s.VY,{"data-slot":"alert-dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",t),...n})}function f(e){let{className:t,...n}=e;return(0,o.jsx)(s.rc,{className:(0,i.cn)((0,r.r)(),t),...n})}function v(e){let{className:t,...n}=e;return(0,o.jsx)(s.ZD,{className:(0,i.cn)((0,r.r)({variant:"outline"}),t),...n})}},285:(e,t,n)=>{n.d(t,{$:()=>c,r:()=>a});var o=n(5155);n(2115);var s=n(9708),i=n(2085),r=n(9434);let a=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:n,size:i,asChild:c=!1,...l}=e,d=c?s.DX:"button";return(0,o.jsx)(d,{"data-slot":"button",className:(0,r.cn)(a({variant:n,size:i,className:t})),...l})}},419:(e,t,n)=>{n.d(t,{At:()=>r,Cp:()=>s,Fw:()=>c,M9:()=>d,Wq:()=>l,fR:()=>i});var o=n(8155),s=function(e){return e.SUCCESS="success",e.CANCEL="cancel",e.NOLOGIN="nologin",e}({});class i{begin(){this.startTime=Date.now(),(0,o.t)({key:"".concat(i.PREFIX,"_begin")})}codeRecv(){(0,o.t)({key:"".concat(i.PREFIX,"_code_recv")})}loginFailed(e){(0,o.t)({key:"".concat(i.PREFIX,"_login_failed"),segmentation:{reason:e}})}end(e){(0,o.t)({key:"".concat(i.PREFIX,"_").concat(e),dur:(Date.now()-this.startTime)/1e3})}constructor(){this.startTime=0}}i.PREFIX="wx_login";var r=function(e){return e.SUCCESS_NOLOGIN="success_nologin",e.SUCCESS_NOT_PC="success_NOT_PC",e.SUCCESS_DIRECT="success_direct",e.SUCCESS_PAY="success_pay",e.SUCCESS_LOGIN="success_login",e.SUCCESS_LOGIN_PAY="success_login_pay",e.CANCEL_LOGIN_NOPAY="cancel_login_nopay",e.CANCEL_NOPAY="cancel_nopay",e.CANCEL_NOLOGIN="cancel_nologin",e.CANCEL_CHECK_FAILED="cancel_check_failed",e}({});function a(e){switch(e){case"success_nologin":case"success_NOT_PC":case"success_direct":case"success_pay":case"success_login":case"success_login_pay":return!0;default:return!1}}class c{begin(){this.startTime=Date.now(),(0,o.t)({key:"".concat(this.PREFIX,"_begin"),segmentation:{}})}end(e){let t=a(e),n=t?this.sum:void 0;(0,o.t)({key:"".concat(this.PREFIX,"_").concat(t?"success":"cancel"),dur:(Date.now()-this.startTime)/1e3,sum:n,segmentation:{type:e}})}constructor(e){this.PREFIX="download_merge",this.startTime=0,this.sum=0,this.sum=e}}class l{begin(){this.startTime=Date.now(),(0,o.t)({key:"".concat(this.PREFIX,"_begin"),segmentation:{}})}end(e){let t=a(e),n=t?this.sum:void 0;(0,o.t)({key:"".concat(this.PREFIX,"_").concat(t?"success":"cancel"),dur:(Date.now()-this.startTime)/1e3,sum:n,segmentation:{type:e}})}constructor(e){this.PREFIX="download_stats",this.startTime=0,this.sum=0,this.sum=e}}class d{begin(){this.startTime=Date.now(),(0,o.t)({key:"".concat(this.PREFIX,"_begin"),segmentation:{}})}end(e){let t=a(e),n=t?this.sum:void 0;(0,o.t)({key:"".concat(this.PREFIX,"_").concat(t?"success":"cancel"),dur:(Date.now()-this.startTime)/1e3,sum:n,segmentation:{type:e}})}constructor(e){this.PREFIX="print_merge",this.startTime=0,this.sum=0,this.sum=e}}},788:(e,t,n)=>{n.d(t,{US:()=>b,oq:()=>C,ZM:()=>_,LZ:()=>w,ZQ:()=>y});var o=n(5155);var b=function(e){return e.SUCCESS="success",e.CANCEL="cancel",e.NOLOGIN="nologin",e}({});function y(){}function w(e){}function _(){}function C(){return null}},1424:(e,t,n)=>{n.d(t,{Cx:()=>v,T7:()=>p,Tg:()=>f,Y3:()=>c,ZC:()=>l,_q:()=>m,a1:()=>h,gz:()=>g,hK:()=>r,hh:()=>u,vD:()=>a,w0:()=>d});var o=n(1352),s=n(8155),i=n(6988);function r(){(0,s.t)({key:"click_start_btn"})}function a(e){(0,s.t)({key:"add_files",sum:e})}function c(e){(0,s.t)({key:"append_files",sum:e})}function l(){(0,s.t)({key:"remove_file"})}function d(){(0,s.t)({key:"clear_list"})}function u(e){(0,s.t)({key:"file_extract_empty",segmentation:{id:e}})}function g(e,t){(0,s.t)({key:"file_exception",segmentation:{id:e,msg:t}})}function p(e,t){console.log("mergeErrorEvent",e,t),(0,s.t)({key:"merge_exception",segmentation:{ids:e,msg:t}})}function m(e){let t=new o.O().getResult();(0,s.t)({key:"send_feedback",segmentation:{content:e,bn:t.browser.name,bv:t.browser.version}})}function h(e){(0,s.t)({key:"over_max_files",segmentation:{num:e}})}function f(e){(0,s.t)({key:"browser_not_match",segmentation:{ver:e,ua:navigator.userAgent,bn:i.m.browser.name,bv:i.m.browser.version}})}function v(){(0,s.t)({key:"new_user_login_success"})}},1932:(e,t,n)=>{function o(e,t){return(e=e.replace(/\/+$/,""))+"/"+(t=t.replace(/^\/+/,""))}function s(e){if(e.byteLength<5)return!1;let t=new Uint8Array(e);return 37===t[0]&&80===t[1]&&68===t[2]&&70===t[3]&&45===t[4]}n.d(t,{cE:()=>s,oq:()=>o})},5390:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(1932);let s={api:{baseUrl:"https://invoice-ng.projectred.top:44300/api",timeout:5e3},wx:{appid:""},countly:{serverUrl:"https://countly.xuante.top:44300",appKey:"ff41ddafb5c230608cb3c5a47d1da48c85a1d718",debugMode:!1},showLanding:!0},i={...s,urls:{api:{query:(0,o.oq)(s.api.baseUrl,"query"),upload:(0,o.oq)(s.api.baseUrl,"upload"),extract:(0,o.oq)(s.api.baseUrl,"extract"),merge:(0,o.oq)(s.api.baseUrl,"merge"),login:(0,o.oq)(s.api.baseUrl,"login"),logout:(0,o.oq)(s.api.baseUrl,"logout"),checkLogin:(0,o.oq)(s.api.baseUrl,"check")}}}},6988:(e,t,n)=>{var o,s;n.d(t,{m:()=>r});let i=new(n(1352)).O().getResult(),r={app:{version:"3.5.8"},browser:{name:null!=(o=i.browser.name)?o:"unknown",version:null!=(s=i.browser.version)?s:"unknown"},localStorageKeys:{user:{nick:"user_nick",icon:"user_icon",uid:"user_uid"},mergeConf:{noline:"merge_conf_noline",method:"merge_conf_method"},app:{invoiceTipsSeen:"invoice-tips-seen",savedVersion:"app_saved_version"},todayOpSum:"today_op"},quota:{noLogin:{dailyDm:10,dailyDs:10,dailyPm:10},maxFiles:100},limit:{maxFileSize:1}}},7117:(e,t,n)=>{n.d(t,{b:()=>s,r:()=>o});var o=function(e){return e[e.Error=0]="Error",e[e.Exception=1]="Exception",e}({});async function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{params:n,headers:o={},...s}=t;if(n&&Object.keys(n).length>0){let t=new URLSearchParams;Object.entries(n).forEach(e=>{let[n,o]=e;t.append(n,String(o))}),e+=(e.includes("?")?"&":"?")+t.toString()}let i={...s,headers:{...o},credentials:"include"};return await fetch(e,i)}},7262:(e,t,n)=>{n.d(t,{hD:()=>I,wD:()=>z,o6:()=>O,iD:()=>D,ri:()=>T,h1:()=>A,P:()=>R,Se:()=>P});var o=n(7117),s=n(5390),i=n(9249);n(3548);var r=n(5905),a=n(6620),c=n(6429),l=n(7781),d=n(5339),u=n(7298),g=n(3840),p=n(9209),m=n(9037);class h{}(0,i.Cg)([(0,r.Mx)(),(0,a.Fv)(),(0,i.Sn)("design:type",Number)],h.prototype,"code",void 0),(0,i.Cg)([(0,c.IP)(),(0,a.Fv)(),(0,i.Sn)("design:type",String)],h.prototype,"text",void 0),(0,i.Cg)([(0,c.IP)(),(0,i.Sn)("design:type",String)],h.prototype,"message",void 0);class f{}(0,i.Cg)([(0,c.IP)(),(0,a.Fv)(),(0,i.Sn)("design:type",String)],f.prototype,"code",void 0),(0,i.Cg)([(0,c.IP)(),(0,a.Fv)(),(0,i.Sn)("design:type",String)],f.prototype,"number",void 0),(0,i.Cg)([(0,c.IP)(),(0,a.Fv)(),(0,p.d)(e=>{let{value:t}=e;return t.toString()}),(0,i.Sn)("design:type",String)],f.prototype,"date",void 0),(0,i.Cg)([(0,r.Mx)(),(0,a.Fv)(),(0,p.d)(e=>{let{value:t}=e;return Number(t)}),(0,i.Sn)("design:type",Number)],f.prototype,"total",void 0);class v{}(0,i.Cg)([(0,r.Mx)(),(0,a.Fv)(),(0,p.d)(e=>{let{value:t}=e;return Number(t)}),(0,i.Sn)("design:type",Number)],v.prototype,"pageno",void 0),(0,i.Cg)([(0,r.Mx)(),(0,a.Fv)(),(0,p.d)(e=>{let{value:t}=e;return Number(t)}),(0,i.Sn)("design:type",Number)],v.prototype,"a5",void 0),(0,i.Cg)([(0,l.QS)(),(0,d.K)({each:!0}),(0,m.Z)(()=>f),(0,i.Sn)("design:type",Array)],v.prototype,"invoices",void 0);class x{}(0,i.Cg)([(0,l.QS)(),(0,u.X)(),(0,d.K)({each:!0}),(0,m.Z)(()=>v),(0,i.Sn)("design:type",Array)],x.prototype,"pages",void 0);class y extends h{}(0,i.Cg)([(0,d.K)(),(0,m.Z)(()=>x),(0,i.Sn)("design:type",x)],y.prototype,"result",void 0);class b extends h{}(0,i.Cg)([(0,g.Zx)(),(0,a.Fv)(),(0,i.Sn)("design:type",Boolean)],b.prototype,"result",void 0);class w{}(0,i.Cg)([(0,c.IP)(),(0,i.Sn)("design:type",String)],w.prototype,"nick",void 0),(0,i.Cg)([(0,c.IP)(),(0,i.Sn)("design:type",String)],w.prototype,"icon",void 0),(0,i.Cg)([(0,c.IP)(),(0,i.Sn)("design:type",String)],w.prototype,"uid",void 0),(0,i.Cg)([(0,r.Mx)(),(0,i.Sn)("design:type",Number)],w.prototype,"new",void 0);class _{}(0,i.Cg)([(0,c.IP)(),(0,a.Fv)(),(0,i.Sn)("design:type",String)],_.prototype,"id",void 0),(0,i.Cg)([(0,r.Mx)(),(0,a.Fv)(),(0,i.Sn)("design:type",Number)],_.prototype,"size",void 0),(0,i.Cg)([(0,l.QS)(),(0,r.Mx)({},{each:!0}),(0,a.Fv)(),(0,i.Sn)("design:type",Array)],_.prototype,"ips",void 0);class S{}(0,i.Cg)([(0,l.QS)(),(0,d.K)({each:!0}),(0,m.Z)(()=>_),(0,i.Sn)("design:type",Array)],S.prototype,"pages",void 0),(0,i.Cg)([(0,r.Mx)(),(0,a.Fv)(),(0,i.Sn)("design:type",Number)],S.prototype,"noline",void 0),(0,i.Cg)([(0,r.Mx)(),(0,a.Fv)(),(0,i.Sn)("design:type",Number)],S.prototype,"method",void 0);var C=n(3025),k=n(3464),N=n(6988),E=n(9572),L=n(2860),j=n.n(L),F=n(1424);class I{getInfo(){if(this.type===o.r.Exception)return this.info.message;{let e="status"in this.info?this.info.status:0,t="statusText"in this.info?this.info.statusText:"";return e&&t?"".concat(e,": ").concat(t):t?t:e?"状态码： ".concat(e):"未知"}}static fromResponse(e){return new I({type:o.r.Error,info:e})}static fromException(e){let t;return t=e instanceof Error?e:"object"==typeof e?Error(JSON.stringify(e)):Error(String(e)),new I({type:o.r.Exception,info:t})}constructor(e){this.__brand="ApiError",this.type=e.type,this.info=e.info}}async function R(e,t){let n=s.A.urls.api.query;try{let s=await (0,o.b)(n,{params:{id:e,size:t}});if(!s.ok)return I.fromResponse(s);{let e=await s.json();return(0,C.bj)(b,e)}}catch(e){return I.fromException(e)}}async function P(e,t){let n=new FormData;n.append("uploadfile",e);let o=k.A.CancelToken.source(),i=o.cancel,r={method:"POST",url:s.A.urls.api.upload,data:n,onUploadProgress:t,cancelToken:o.token};try{let e=await (0,k.A)(r);if(200===e.status)return i;return I.fromResponse(e)}catch(e){return I.fromException(e)}}async function O(e,t){let n=s.A.urls.api.extract;try{let s=await (0,o.b)(n,{params:{id:e,size:t}});if(!s.ok)return I.fromResponse(s);{let e=await s.json();return(0,C.bj)(y,e)}}catch(e){return I.fromException(e)}}async function A(e,t,n){let i=JSON.stringify((0,C.bj)(S,{pages:e,noline:t,method:n})),r=s.A.urls.api.merge;try{let e=await (0,o.b)(r,{method:"POST",body:i,headers:{"Content-Type":"application/json"}});if(e.ok&&"application/pdf"===e.headers.get("content-type"))return await e.blob();return I.fromException(Error("no pdf data in body"))}catch(e){return I.fromException(e)}}async function D(e){return I.fromException(Error("Login disabled"))}async function T(){return!0}async function z(){return!0}},8155:(e,t,n)=>{n.d(t,{t:()=>r});var o=n(9572),s=n(2860),i=n.n(s);function r(e){o.d.user.uid&&(e.segmentation=e.segmentation?{...e.segmentation,uid:o.d.user.uid}:{uid:o.d.user.uid}),i().add_event(e)}},9434:(e,t,n)=>{n.d(t,{cn:()=>i});var o=n(2596),s=n(9688);function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.QP)((0,o.$)(t))}},9572:(e,t,n)=>{n.d(t,{d:()=>o});let o=(0,n(3217).BX)({user:{isLoggedIn:null,nick:null,icon:null,uid:null}})}}]);
//# sourceMappingURL=788-dbcaeaad83012140.js.map